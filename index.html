<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TV Marinho</title>
  <!-- Favicon - Adicione o link para o seu pr√≥prio √≠cone aqui -->
  <!-- Recomenda-se um arquivo .ico ou .png pequeno, ex: <link rel="icon" href="https://seusite.com/favicon.ico" type="image/x-icon"> -->
  <link rel="icon" href="https://via.placeholder.com/16/e03b45/ffffff?text=üì∫" type="image/x-icon"> 
  
  <!-- Google Fonts: Inter para um visual moderno e limpo -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
  
  <!-- Font Awesome para √≠cones - Essencial para o novo menu -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <style>
    /* CSS Variables for easy theming - ATUALIZADO para modernidade */
    :root {
      --bg-dark: #0A0A0A; /* Um pouco mais escuro para maior contraste */
      --nav-bg: #1A1A1A; /* Mais escuro, mantendo distin√ß√£o */
      --text-light: #E0E0E0; /* Levemente mais suave que branco puro */
      --accent-red: #E03B45; /* Um vermelho vibrante, mas menos "agressivo" */
      --accent-red-hover: #FF5C67; /* Um tom mais claro para hover */
      --border-color: #2F2F2F; /* Borda sutil */
      --shadow-color: rgba(0, 0, 0, 0.7);
      --highlight-shadow: rgba(224, 59, 69, 0.4); /* Sombra do destaque mais suave */
      --item-bg: #282828; /* Fundo dos itens de categoria e canal */
      --item-hover-bg: #3A3A3A; /* Hover dos itens */
      --secondary-text: #A0A0A0; /* Um cinza para textos secund√°rios */
      --subtle-gradient: linear-gradient(135deg, #1A1A1A, #0A0A0A); /* Exemplo de gradiente sutil */
    }

    /* Animated Background (Subtle) */
    @keyframes gradient-animation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Corpo e geral - ATUALIZADO */
    body {
      margin: 0;
      background: linear-gradient(-45deg, #1A1A1A, #0A0A0A, #1A1A1A, #0A0A0A); /* Gradiente animado */
      background-size: 400% 400%;
      animation: gradient-animation 15s ease infinite; /* Anima√ß√£o suave e longa */
      background-attachment: fixed;
      color: var(--text-light);
      font-family: 'Inter', sans-serif;
      font-weight: 400;
      line-height: 1.6;
      display: flex;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Container geral: barra fixa + conte√∫do */
    .container {
      display: flex;
      width: 100%;
    }

    /* Menu lateral fixo - ATUALIZADO */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 280px;
      background-color: var(--nav-bg);
      padding: 20px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      gap: 15px; /* Espa√ßamento entre categorias */
      overflow-y: auto;
      border-right: 1px solid var(--border-color);
      z-index: 1000;
      transition: width 0.3s ease;
    }

    /* Logo Placeholder */
    .logo-placeholder {
      font-size: 2.5em;
      font-weight: 900;
      color: var(--accent-red);
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 0 0 10px rgba(224, 59, 69, 0.6);
      padding-top: 10px;
    }

    /* Category List */
    .category-list {
        list-style: none;
        padding: 0;
        margin: 0;
        width: 100%;
    }

    .category-item {
        margin-bottom: 10px;
        border-radius: 8px;
        overflow: hidden; /* Garante que o border-radius funcione com o collapse */
    }

    .category-header {
        display: flex;
        align-items: center;
        padding: 15px 20px;
        background-color: var(--item-bg);
        color: var(--text-light);
        cursor: pointer;
        font-weight: 600;
        font-size: 1.1em;
        border-radius: 8px;
        transition: background-color 0.2s ease, box-shadow 0.2s ease;
        position: relative;
    }

    .category-header:hover {
        background-color: var(--item-hover-bg);
        box-shadow: 0 0 0 2px var(--accent-red);
    }

    .category-header .icon {
        margin-right: 10px;
        color: var(--accent-red);
    }

    .category-header .arrow {
        margin-left: auto;
        transition: transform 0.2s ease;
    }

    .category-item.expanded .category-header .arrow {
        transform: rotate(180deg);
    }

    .category-header .external-icon { /* For WarezCDN link */
        margin-left: auto;
        color: var(--secondary-text);
        font-size: 0.9em;
    }

    .channel-list {
        list-style: none;
        padding: 0;
        margin: 0;
        max-height: 0; /* Hidden by default */
        overflow: hidden;
        transition: max-height 0.3s ease-out;
        background-color: #222; /* Slightly different background for channels */
        border-bottom-left-radius: 8px;
        border-bottom-right-radius: 8px;
    }
    
    .category-item.expanded .channel-list {
        max-height: 500px; /* Adjust as needed for content height, larger than expected max */
    }

    .channel-item {
        padding: 12px 20px;
        color: var(--text-light);
        cursor: pointer;
        transition: background-color 0.2s ease, color 0.2s ease;
        border-top: 1px solid rgba(255,255,255,0.05); /* Sutil divisor */
    }

    .channel-item:first-child {
        border-top: none;
    }

    .channel-item:hover {
        background-color: #333;
        color: var(--accent-red);
    }

    .channel-item.active {
        background-color: var(--accent-red);
        color: #FFFFFF;
        font-weight: 700;
        position: relative;
    }
    .channel-item.active::after {
        content: '‚ñ∂'; /* Play icon */
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 0.8em;
    }
    /* Conte√∫do principal ‚Äî empurrado para direita para n√£o ficar atr√°s da barra fixa */
    .main-container {
      margin-left: 280px;
      flex: 1;
      padding: 30px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
      background-color: transparent; /* Permite que o gradiente do body apare√ßa */
      min-height: 100vh;
      overflow-y: auto;
      width: calc(100% - 280px);
    }

    /* Wrapper para as views din√¢micas (canais ou WarezCDN) */
    .dynamic-content-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      gap: 30px;
    }

    /* Estilo base para as views de conte√∫do */
    .content-view {
      display: none;
      flex-direction: column;
      align-items: center;
      width: 100%;
      gap: inherit;
    }
    
    /* A vis√£o padr√£o que deve estar vis√≠vel ao iniciar */
    #tvChannelsView {
        display: flex;
    }

    /* T√≠tulo principal - ATUALIZADO */
    .main-header {
      width: 100%;
      text-align: center;
      margin-bottom: 20px;
    }

    .main-header h1 {
      margin: 0;
      font-family: 'Inter', sans-serif;
      font-size: 3.8em;
      color: var(--accent-red);
      text-shadow: 0 0 20px var(--highlight-shadow), 0 0 8px rgba(0, 0, 0, 0.8);
      font-weight: 900;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      transition: text-shadow 0.3s ease;
    }

    /* Player de v√≠deo - ATUALIZADO */
    .player-container {
      position: relative;
      width: 80%;
      aspect-ratio: 16 / 9;
      background-color: #000;
      border-radius: 20px;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6), 0 0 30px var(--highlight-shadow);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .player-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.7), 0 0 40px var(--accent-red);
    }

    iframe#videoPlayer {
      width: 100%;
      height: 100%;
      border: none;
      display: none;
      background-color: #000;
    }

    /* Mensagem de nenhum v√≠deo selecionado - ATUALIZADO */
    .no-video-message {
      text-align: center;
      color: var(--text-light);
      font-size: 1.8em;
      font-weight: 700;
      padding: 20px;
    }

    .no-video-message span {
        display: block;
        font-size: 0.7em;
        color: var(--secondary-text);
        margin-top: 8px;
    }

    /* Loading spinner - ATUALIZADO */
    .loader {
      border: 7px solid rgba(255, 255, 255, 0.2);
      border-top: 7px solid var(--accent-red);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }

    /* Grade de programa√ß√£o - ATUALIZADO */
    iframe#gradeIframe {
      width: 80%;
      height: 500px;
      border: none;
      border-radius: 20px;
      background-color: #000;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6), 0 0 30px var(--highlight-shadow);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    iframe#gradeIframe:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.7), 0 0 40px var(--accent-red);
    }

    /* NOVO ESTILO: iframe para o conte√∫do da WarezCDN - ATUALIZADO */
    iframe#warezCdnContentIframe {
      width: 80%;
      height: 700px;
      border: none;
      border-radius: 20px;
      background-color: #000;
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.6), 0 0 30px var(--highlight-shadow);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    iframe#warezCdnContentIframe:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.7), 0 0 40px var(--accent-red);
    }

    /* NOVO ESTILO: Mensagem de carregamento para WarezCDN */
    #warezCdnLoadingMessage {
        text-align: center;
        color: var(--text-light);
        font-size: 1.5em;
        font-weight: 500;
        padding: 20px;
        margin-top: 20px;
    }

    /* Style for the new back button in WarezCDN view - ATUALIZADO */
    .warez-back-button {
      background-color: var(--accent-red);
      color: var(--text-light);
      border: none;
      border-radius: 12px;
      padding: 14px 25px;
      font-size: 1.1em;
      font-weight: 700;
      cursor: pointer;
      margin-bottom: 25px;
      box-shadow: 0 6px 20px rgba(224, 59, 69, 0.4);
      transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    }

    .warez-back-button:hover {
      background-color: var(--accent-red-hover);
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(224, 59, 69, 0.7);
    }


    /* Estiliza√ß√£o da Barra de Rolagem (navegadores Webkit) */
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }

    ::-webkit-scrollbar-track {
      background: var(--nav-bg);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--item-hover-bg);
      border-radius: 10px;
      border: 2px solid var(--nav-bg);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent-red);
    }

    /* Responsividade - ATUALIZADO */
    @media (max-width: 992px) {
      .main-header h1 {
        font-size: 2.8em;
      }
      .player-container, iframe#gradeIframe, iframe#warezCdnContentIframe {
        width: 95%;
      }
      iframe#warezCdnContentIframe {
        height: 600px;
      }
    }

    @media (max-width: 768px) {
      body {
        flex-direction: column;
      }
      .container {
        flex-direction: column;
      }
      nav {
        position: relative;
        width: 100%;
        height: auto;
        flex-direction: row;
        overflow-x: auto;
        padding: 15px 10px;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
        gap: 15px;
        white-space: nowrap;
        justify-content: flex-start;
      }

      .logo-placeholder {
          font-size: 2em;
          margin-bottom: 10px;
      }
      /* Hide complex categories menu on small screens, simplify to a single list/selector if desired for mobile */
      .category-list {
          display: none; 
      }
      /* If you want a mobile-friendly category selection, you'd add a <select> here for categories */
      /* For now, it will simply remove the side menu and focus on the main content */
      
      .main-container {
        margin-left: 0;
        padding: 20px 15px;
        min-height: auto;
        width: 100%;
      }
      .main-header h1 {
        font-size: 2.2em;
        letter-spacing: 2px;
      }
      .player-container, iframe#gradeIframe, iframe#warezCdnContentIframe {
        width: 100%;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5), 0 0 15px rgba(224, 59, 69, 0.3);
      }
      iframe#gradeIframe {
        height: 350px;
      }
      iframe#warezCdnContentIframe {
        height: 500px;
      }
    }

    @media (max-width: 480px) {
        .main-header h1 {
            font-size: 1.8em;
            letter-spacing: 1px;
        }
        .no-video-message, #warezCdnLoadingMessage {
            font-size: 1.2em;
        }
        .loader {
            width: 40px;
            height: 40px;
            border-width: 5px;
        }
        iframe#warezCdnContentIframe {
            height: 400px;
        }
    }
  </style>
</head>
<body>
  <div class="container">
    <nav>
      <div class="logo-placeholder">TV Marinho</div>

      <ul class="category-list">
        <!-- Canais Abertos -->
        <li class="category-item">
          <div class="category-header">
            <i class="fas fa-tv icon"></i>
            <span>Canais Abertos</span>
            <i class="fas fa-chevron-down arrow"></i>
          </div>
          <ul class="channel-list">
            <li class="channel-item" data-video-url="https://embedtv-3.icu/globosp" data-grade-url="https://meuguia.tv/programacao/canal/GRD">Globo SP</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%65%65/player3/ch.php?canal=bobosp" data-grade-url="https://meuguia.tv/programacao/canal/GRD">Globo SP 2</li>
            <li class="channel-item" data-video-url="https://www.embedtv.net/embed/globo-sp" data-grade-url="https://meuguia.tv/programacao/canal/GRD">Globo SP 3</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=globosp-globosaopaulo" data-grade-url="https://meuguia.tv/programacao/canal/GRD">Globo SP 4</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/sbt" data-grade-url="https://meuguia.tv/programacao/canal/SBT">SBT</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%65%65/player3/ch.php?canal=sbt" data-grade-url="https://meuguia.tv/programacao/canal/SBT">SBT 2</li>
            <li class="channel-item" data-video-url="https://www.embedtv.net/embed/sbt" data-grade-url="https://meuguia.tv/programacao/canal/SBT">SBT 3</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=sbt" data-grade-url="https://meuguia.tv/programacao/canal/SBT">SBT 4</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/record" data-grade-url="https://meuguia.tv/programacao/canal/REC">Record</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%65%65/player3/ch.php?canal=record" data-grade-url="https://meuguia.tv/programacao/canal/REC">Record 2</li>
            <li class="channel-item" data-video-url="https://www.embedtv.net/embed/record" data-grade-url="https://meuguia.tv/programacao/canal/REC">Record 3</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=record" data-grade-url="https://meuguia.tv/programacao/canal/REC">Record 4</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/band" data-grade-url="https://meuguia.tv/programacao/canal/BAN">Band</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%65%65/player3/ch.php?canal=band" data-grade-url="https://meuguia.tv/programacao/canal/BAN">Band 2</li>
            <li class="channel-item" data-video-url="https://www.embedtv.net/embed/band" data-grade-url="https://meuguia.tv/programacao/canal/BAN">Band 3</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=band" data-grade-url="https://meuguia.tv/programacao/canal/BAN">Band 4</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%65%65/player3/ch.php?canal=redetv" data-grade-url="https://meuguia.tv/programacao/canal/CBR">Rede TV</li>
            <li class="channel-item" data-video-url="https://www.embedtv.net/embed/rede-tv" data-grade-url="https://meuguia.tv/programacao/canal/CBR">Rede TV 2</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=redetv" data-grade-url="https://meuguia.tv/programacao/canal/CBR">Rede TV 3</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=tvcultura" data-grade-url="https://meuguia.tv/programacao/canal/CUL">TV Cultura</li>
          </ul>
        </li>
        <!-- Filmes -->
        <li class="category-item">
          <div class="category-header">
            <i class="fas fa-film icon"></i>
            <span>Filmes</span>
            <i class="fas fa-chevron-down arrow"></i>
          </div>
          <ul class="channel-list">
            <li class="channel-item" data-video-url="https://embedtv-3.icu/telecinepremium" data-grade-url="https://meuguia.tv/programacao/canal/TC1">Telecine Premium</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=telecinepremium" data-grade-url="https://meuguia.tv/programacao/canal/TC1">Telecine Premium 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/telecinepipoca" data-grade-url="https://meuguia.tv/programacao/canal/TC4">Telecine Pipoca</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=telecinepipoca" data-grade-url="https://meuguia.tv/programacao/canal/TC4">Telecine Pipoca 2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=telecineaction" data-grade-url="https://meuguia.tv/programacao/canal/TC2">Telecine Action</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/telecineaction" data-grade-url="https://meuguia.tv/programacao/canal/TC2">Telecine Action 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/telecinetouch" data-grade-url="https://meuguia.tv/programacao/canal/TC3">Telecine Touch</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=telecinetouch" data-grade-url="https://meuguia.tv/programacao/canal/TC3">Telecine Touch 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/telecinefun" data-grade-url="https://meuguia.tv/programacao/canal/TC6">Telecine Fun</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=telecinefun" data-grade-url="https://meuguia.tv/programacao/canal/TC6">Telecine Fun 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/telecinecult" data-grade-url="https://meuguia.tv/programacao/canal/TC5">Telecine Cult</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=telecinecult" data-grade-url="https://meuguia.tv/programacao/canal/TC5">Telecine Cult 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/hbo" data-grade-url="https://meuguia.tv/programacao/canal/HBO">HBO</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=hbo" data-grade-url="https://meuguia.tv/programacao/canal/HBO">HBO 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/hbo2" data-grade-url="https://meuguia.tv/programacao/canal/HB2">HBO2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=hbo2" data-grade-url="https://meuguia.tv/programacao/canal/HB2">HBO2 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/hboplus" data-grade-url="https://meuguia.tv/programacao/canal/HPL">HBO Plus</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=hboplus" data-grade-url="https://meuguia.tv/programacao/canal/HPL">HBO Plus 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/hbofamily" data-grade-url="https://meuguia.tv/programacao/canal/HFA">HBO Family</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=hbofamily" data-grade-url="https://meuguia.tv/programacao/canal/HFA">HBO Family 2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=hbosignature" data-grade-url="https://meuguia.tv/programacao/canal/HFE">HBO Signature</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/hboxtreme" data-grade-url="https://www.guiadetv.com/canal/hbo-xtreme">HBO Xtreme</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=hboxtreme" data-grade-url="https://www.guiadetv.com/canal/hbo-xtreme">HBO Xtreme 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/hbomundi" data-grade-url="https://www.guiadetv.com/canal/hbo-mundi">HBO Mundi</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=hbomundi" data-grade-url="https://www.guiadetv.com/canal/hbo-mundi">HBO Mundi 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/hbopop" data-grade-url="https://www.guiadetv.com/canal/hbo-pop">HBO POP</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=hbopop" data-grade-url="https://www.guiadetv.com/canal/hbo-pop">HBO POP 2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=amc" data-grade-url="https://meuguia.tv/programacao/canal/MGM">AMC</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/axn" data-grade-url="https://meuguia.tv/programacao/canal/AXN">AXN</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=axn" data-grade-url="https://meuguia.tv/programacao/canal/AXN">AXN 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/fx" data-grade-url="https://programacao.tv/fx">FX</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/megapix" data-grade-url="https://meuguia.tv/programacao/canal/MPX">Megapix</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=megapix" data-grade-url="https://meuguia.tv/programacao/canal/MPX">Megapix 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/studiouniversal" data-grade-url="https://meuguia.tv/programacao/canal/HAL">Studio Universal</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=studiouniversal" data-grade-url="https://meuguia.tv/programacao/canal/HAL">Studio Universal 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/cinemax" data-grade-url="https://meuguia.tv/programacao/canal/MNX">Cinemax</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=cinemax" data-grade-url="https://meuguia.tv/programacao/canal/MNX">Cinemax 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/sonychannel" data-grade-url="https://meuguia.tv/programacao/canal/SET">Sony Channel</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=sony" data-grade-url="https://meuguia.tv/programacao/canal/SET">Sony Channel 2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=sonymovies" data-grade-url="https://www.guiadetv.com/canal/sony-movies">Sony Movies</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/space" data-grade-url="https://meuguia.tv/programacao/canal/SPA">Space</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=space" data-grade-url="https://meuguia.tv/programacao/canal/SPA">Space 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/starchannel" data-grade-url="https://www.claro.com.br/tv-por-assinatura/programacao/grade/programa/star-channel-hd/1-2429?srsltid=AfmBOooTiCFBK1DrJpHOeKFpqWzjxax1Q2QfpoJLxQMpi5cpYSl8ZnQt">Star Channel</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/warnerchannel" data-grade-url="https://meuguia.tv/programacao/canal/WBT">Warner TV</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=warner" data-grade-url="https://meuguia.tv/programacao/canal/WBT">Warner TV 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/tlc" data-grade-url="https://meuguia.tv/programacao/canal/TRV" data-grade-url="https://meuguia.tv/programacao/canal/TRV">TLC</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=tlc" data-grade-url="https://meuguia.tv/programacao/canal/TRV">TLC 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/ae" data-grade-url="https://meuguia.tv/programacao/canal/MDO">A&E</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=aie" data-grade-url="https://meuguia.tv/programacao/canal/MDO">A&E 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/tnt" data-grade-url="https://meuguia.tv/programacao/canal/TNT">TNT</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=tnt" data-grade-url="https://meuguia.tv/programacao/canal/TNT">TNT 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/tntnovelas" data-grade-url="https://www.guiadetv.com/canal/tnt-novelas">TNT Novelas</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=tntnovelas" data-grade-url="https://www.guiadetv.com/canal/tnt-novelas">TNT Novelas 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/tntseries" data-grade-url="https://meuguia.tv/programacao/canal/TNS">TNT Series</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=tntseries" data-grade-url="https://meuguia.tv/programacao/canal/TNS">TNT Series 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/tcm" data-grade-url="https://meuguia.tv/programacao/canal/TCM">TCM</li>
          </ul>
        </li>
        <!-- S√©ries -->
        <li class="category-item">
          <div class="category-header">
            <i class="fas fa-play-circle icon"></i>
            <span>S√©ries</span>
            <i class="fas fa-chevron-down arrow"></i>
          </div>
          <ul class="channel-list">
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=syfy" data-grade-url="https://www.guiadetv.com/canal/syfy">SyFy</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/universaltv" data-grade-url="https://meuguia.tv/programacao/canal/USA">Universal TV</li>
            <li class="channel-item" data-video-url="//%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=universal" data-grade-url="https://meuguia.tv/programacao/canal/USA">Universal TV 2</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=universalpremiere" data-grade-url="https://www.tvplus.com.br/programacao/universal-premiere">Universal Premiere</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=universalreality" data-grade-url="https://www.tvplus.com.br/programacao/universal-reality">Universal Reality</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/warnerchannel" data-grade-url="https://meuguia.tv/programacao/canal/WBT">Warner Channel</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=warner" data-grade-url="https://meuguia.tv/programacao/canal/WBT">Warner Channel 2</li>
          </ul>
        </li>
        <!-- Esporte -->
        <li class="category-item">
          <div class="category-header">
            <i class="fas fa-football-ball icon"></i>
            <span>Esporte</span>
            <i class="fas fa-chevron-down arrow"></i>
          </div>
          <ul class="channel-list">
            <li class="channel-item" data-video-url="https://embedtv-3.icu/espn" data-grade-url="https://meuguia.tv/programacao/canal/ESPN">ESPN</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=espn" data-grade-url="https://meuguia.tv/programacao/canal/ESP">ESPN 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/espn2" data-grade-url="https://meuguia.tv/programacao/canal/ES2">ESPN2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=espn2" data-grade-url="https://meuguia.tv/programacao/canal/ES2">ESPN2 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/espn3" data-grade-url="https://meuguia.tv/programacao/canal/ES3">ESPN3</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=espn3" data-grade-url="https://meuguia.tv/programacao/canal/ES3">ESPN3 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/espn4" data-grade-url="https://meuguia.tv/programacao/canal/ES4">ESPN4</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=espn4" data-grade-url="https://meuguia.tv/programacao/canal/ES4">ESPN4 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/espn5" data-grade-url="https://meuguia.tv/programacao/canal/ES5">ESPN5</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%74%76%2E%67%64/player3/ch.php?canal=espn5" data-grade-url="https://meuguia.tv/programacao/canal/ES5">ESPN5 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/espn6" data-grade-url="https://www.guiadetv.com/canal/espn-6">ESPN6</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%77%2E%67%64/player3/ch.php?canal=espn6" data-grade-url="https://www.guiadetv.com/canal/espn-6">ESPN6 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/sportv" data-grade-url="https://meuguia.tv/programacao/canal/SPO">Sportv</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=sportv1" data-grade-url="https://meuguia.tv/programacao/canal/SPO">Sportv 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/sportv2" data-grade-url="https://meuguia.tv/programacao/canal/SP2">Sportv2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=sportv2" data-grade-url="https://meuguia.tv/programacao/canal/SP2">Sportv2 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/sportv3" data-grade-url="https://meuguia.tv/programacao/canal/SP3">Sportv3</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=sportv3" data-grade-url="https://meuguia.tv/programacao/canal/SP3">Sportv3 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/sportv4" data-grade-url="https://tudonumclick.com/programacao-tv/sport-tv4/">Sportv4</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=sportv4" data-grade-url="https://tudonumclick.com/programacao-tv/sport-tv4/">Sportv4 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/premiere" data-grade-url="https://meuguia.tv/programacao/canal/121">Premiere</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=premiereclubes" data-grade-url="https://meuguia.tv/programacao/canal/121">Premiere 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/premiere2" data-grade-url="https://www.guiadetv.com/canal/premiere-2">Premiere2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=premiere2" data-grade-url="https://www.guiadetv.com/canal/premiere-2">Premiere2 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/premiere3" data-grade-url="https://www.guiadetv.com/canal/premiere-3">Premiere3</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=premiere3" data-grade-url="https://www.guiadetv.com/canal/premiere-3">Premiere3 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/premiere4" data-grade-url="https://www.guiadetv.com/canal/premiere-4">Premiere4</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=premiere4" data-grade-url="https://www.guiadetv.com/canal/premiere-4">Premiere4 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/premiere5" data-grade-url="https://www.guiadetv.com/canal/premiere-5">Premiere5</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=premiere5" data-grade-url="https://www.guiadetv.com/canal/premiere-5">Premiere5 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/premiere6" data-grade-url="https://www.guiadetv.com/canal/premiere-6">Premiere6</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=premiere6" data-grade-url="https://www.guiadetv.com/canal/premiere-6">Premiere6 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/premiere7" data-grade-url="https://www.guiadetv.com/canal/premiere-7">Premiere7</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=premiere7" data-grade-url="https://www.guiadetv.com/canal/premiere-7">Premiere7 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/premiere8" data-grade-url="https://mi.tv/br/canais/premiere-8-hd">Premiere8</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=premiere8" data-grade-url="https://mi.tv/br/canais/premiere-8-hd">Premiere8 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/ufcfightpass" data-grade-url="">UFC Fight Pass</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=ufcfightpass" data-grade-url="">UFC Fight Pass 2</li>
          </ul>
        </li>
        <!-- Infantil -->
        <li class="category-item">
          <div class="category-header">
            <i class="fas fa-child icon"></i>
            <span>Infantil</span>
            <i class="fas fa-chevron-down arrow"></i>
          </div>
          <ul class="channel-list">
            <li class="channel-item" data-video-url="https://embedtv-3.icu/discoverykids" data-grade-url="https://meuguia.tv/programacao/canal/DIK">Discovery Kids</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=discoverykids" data-grade-url="https://meuguia.tv/programacao/canal/DIK">Discovery Kids 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/cartoonnetwork" data-grade-url="https://meuguia.tv/programacao/canal/CAR">Cartoon Network</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=cartoon" data-grade-url="https://meuguia.tv/programacao/canal/CAR">Cartoon Network 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/cartoonito" data-grade-url="https://www.guiadetv.com/canal/cartoonito">Cartoonito</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=cartoonito" data-grade-url="https://www.guiadetv.com/canal/cartoonito">Cartoonito 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/nickelodeon" data-grade-url="https://meuguia.tv/programacao/canal/NIC">Nickelodeon</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=nick" data-grade-url="https://meuguia.tv/programacao/canal/NIC">Nickelodeon 2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=gloob" data-grade-url="https://meuguia.tv/programacao/canal/GOB">Gloob</li>
          </ul>
        </li>
        <!-- Variedades -->
        <li class="category-item">
          <div class="category-header">
            <i class="fas fa-palette icon"></i>
            <span>Variedades</span>
            <i class="fas fa-chevron-down arrow"></i>
          </div>
          <ul class="channel-list">
            <li class="channel-item" data-video-url="https://embedtv-3.icu/multishow" data-grade-url="https://meuguia.tv/programacao/canal/MSW">Multishow</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=multishow" data-grade-url="https://meuguia.tv/programacao/canal/MSW">Multishow 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/gnt" data-grade-url="https://meuguia.tv/programacao/canal/GNT">GNT</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=gnt" data-grade-url="https://meuguia.tv/programacao/canal/GNT">GNT 2</li>
            <li class="channel-item" data-video-url="https://embedtv-3.icu/viva" data-grade-url="https://meuguia.tv/programacao/canal/VIV">Viva</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=viva" data-grade-url="https://meuguia.tv/programacao/canal/VIV">Viva 2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=bis" data-grade-url="https://meuguia.tv/programacao/canal/MSH">Bis</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=bis" data-grade-url="https://meuguia.tv/programacao/canal/MSH">Bis 2</li>
            <li class="channel-item" data-video-url="https://%72%65%64%65%63%61%6E%61%69%73%7476%2E%67%64/player3/ch.php?canal=canalbrasil" data-grade-url="https://meuguia.tv/programacao/canal/CBR">Canal Brasil</li>
            <li class="channel-item" data-video-url="https://reidoscanais.life/embed/?id=canalbrasil" data-grade-url="https://meuguia.tv/programacao/canal/CBR">Canal Brasil 2</li>
          </ul>
        </li>
        <!-- Filmes, S√©ries e Animes (WarezCDN) -->
        <li class="category-item warez-cdn-category">
            <div class="category-header">
                <i class="fas fa-photo-video icon"></i>
                <span>Filmes, S√©ries e Animes</span>
                <i class="fas fa-external-link-alt external-icon"></i>
            </div>
            <ul class="channel-list">
                <li class="channel-item" data-warez-url="https://warezcdn.link/conteudo">
                    Acessar Cat√°logo
                </li>
            </ul>
        </li>
      </ul>
    </nav>

    <main class="main-container">
      <header class="main-header">
        <h1>TV Marinho</h1>
      </header>

      <!-- Cont√™iner para alternar entre as vis√µes de conte√∫do -->
      <div id="dynamicContentContainer" class="dynamic-content-container">
        <!-- Vis√£o de Canais de TV (padr√£o) -->
        <div id="tvChannelsView" class="content-view">
          <div class="player-container">
            <iframe id="videoPlayer" src="" allowfullscreen allow="autoplay; fullscreen" scrolling="no"></iframe>
            <div class="loader" id="playerLoader"></div>
            <div class="no-video-message" id="noVideoMessage">
                Bem-vindo √† TV Marinho! <br>
                <span>Selecione um canal na barra lateral para come√ßar a assistir.</span>
            </div>
          </div>
          <iframe id="gradeIframe" src=""></iframe>
        </div>

        <!-- Vis√£o de WarezCDN -->
        <div id="warezCdnView" class="content-view">
            <!-- Bot√£o de voltar para o cat√°logo WarezCDN -->
            <button id="backToWarezCdnCatalog" class="warez-back-button" style="display: none;">‚Üê Voltar para o Cat√°logo</button>
            <iframe id="warezCdnContentIframe" src="" allowfullscreen allow="autoplay; fullscreen" scrolling="no"></iframe>
            <div class="loader" id="warezCdnLoader"></div>
            <div class="no-video-message" id="warezCdnLoadingMessage">
                Carregando cat√°logo WarezCDN...
            </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Refer√™ncias a todos os novos elementos e aos existentes
    const categoryHeaders = document.querySelectorAll('.category-header');
    const channelItems = document.querySelectorAll('.channel-item');
    const videoPlayer = document.getElementById('videoPlayer');
    const gradeIframe = document.getElementById('gradeIframe');
    const playerLoader = document.getElementById('playerLoader');
    const noVideoMessage = document.getElementById('noVideoMessage');
    const tvChannelsView = document.getElementById('tvChannelsView');
    const warezCdnView = document.getElementById('warezCdnView');
    const warezCdnContentIframe = document.getElementById('warezCdnContentIframe');
    const warezCdnLoader = document.getElementById('warezCdnLoader');
    const warezCdnLoadingMessage = document.getElementById('warezCdnLoadingMessage');
    const backToWarezCdnCatalog = document.getElementById('backToWarezCdnCatalog');

    let currentGradeRefreshInterval = null;
    let activeChannelItem = null; // Para controlar o item ativo na navega√ß√£o

    // --- Fun√ß√µes Auxiliares ---
    function showPlayerLoader() {
        playerLoader.style.display = 'block';
        videoPlayer.style.display = 'none';
        noVideoMessage.style.display = 'none';
    }

    function hidePlayerLoader() {
        playerLoader.style.display = 'none';
        videoPlayer.style.display = 'block';
        noVideoMessage.style.display = 'none';
    }

    function showNoPlayerMessage(message = 'Bem-vindo √† TV Marinho! ', subMessage = 'Selecione um canal na barra lateral para come√ßar a assistir.') {
        videoPlayer.style.display = 'none';
        playerLoader.style.display = 'none';
        noVideoMessage.style.display = 'block';
        noVideoMessage.innerHTML = `${message}<br><span>${subMessage}</span>`;
        gradeIframe.src = ''; // Limpa a grade quando nenhum v√≠deo de TV est√° selecionado
        if (currentGradeRefreshInterval) {
            clearInterval(currentGradeRefreshInterval);
            currentGradeRefreshInterval = null;
        }
    }

    function setActiveChannel(item) {
        if (activeChannelItem) {
            activeChannelItem.classList.remove('active');
        }
        activeChannelItem = item;
        if (activeChannelItem) {
            activeChannelItem.classList.add('active');
        }
    }

    // --- Gerenciamento da Visibilidade do Conte√∫do (Canais de TV vs WarezCDN) ---
    function showTvChannelsContent(videoUrl, gradeUrl, channelName = '') {
        // Oculta todas as views primeiro
        document.querySelectorAll('.content-view').forEach(view => {
            view.style.display = 'none';
        });
        tvChannelsView.style.display = 'flex'; // Exibe a vis√£o de Canais de TV

        if (videoUrl) {
            showPlayerLoader();
            videoPlayer.src = videoUrl;
            videoPlayer.onload = () => {
                hidePlayerLoader();
            };
            videoPlayer.onerror = () => {
                hidePlayerLoader();
                showNoPlayerMessage('N√£o foi poss√≠vel carregar o v√≠deo.', 'Tente outro canal ou fonte.');
            };
        } else {
            showNoPlayerMessage();
        }

        if (gradeUrl) {
            gradeIframe.src = gradeUrl;
            // Limpa qualquer intervalo existente antes de definir um novo
            if (currentGradeRefreshInterval) {
                clearInterval(currentGradeRefreshInterval);
                currentGradeRefreshInterval = null;
            }
            // Define novo intervalo para a grade atual
            currentGradeRefreshInterval = setInterval(() => {
                console.log('Atualizando grade para:', channelName || videoUrl);
                gradeIframe.src = gradeUrl; // Recarrega o iframe da grade
            }, 300000); // Atualiza a cada 5 minutos (300000 ms)
        } else {
            gradeIframe.src = '';
            if (currentGradeRefreshInterval) {
                clearInterval(currentGradeRefreshInterval);
                currentGradeRefreshInterval = null;
            }
        }
    }

    function showWarezCdnContent(url) {
        // Oculta todas as outras views primeiro
        document.querySelectorAll('.content-view').forEach(view => {
            view.style.display = 'none';
        });
        warezCdnView.style.display = 'flex'; // Exibe a vis√£o de navega√ß√£o do WarezCDN

        warezCdnLoader.style.display = 'block'; // Mostra o loader para o iframe de navega√ß√£o
        warezCdnContentIframe.style.display = 'none'; // Esconde o iframe de navega√ß√£o inicialmente
        warezCdnLoadingMessage.style.display = 'block';
        warezCdnLoadingMessage.textContent = 'Carregando cat√°logo WarezCDN...'; 

        warezCdnContentIframe.src = url; // Carrega a URL do cat√°logo

        warezCdnContentIframe.onload = () => {
            warezCdnLoader.style.display = 'none';
            warezCdnContentIframe.style.display = 'block';
            warezCdnLoadingMessage.style.display = 'none';
            
            // L√≥gica para mostrar/esconder o bot√£o "Voltar"
            const currentIframeSrc = warezCdnContentIframe.contentWindow.location.href; // Melhorar a detec√ß√£o de URL interna
            const isPlayerPage = currentIframeSrc.startsWith('https://embed.warezcdn.link/filme/') ||
                                 currentIframeSrc.startsWith('https://embed.warezcdn.link/serie/');

            if (isPlayerPage) {
                backToWarezCdnCatalog.style.display = 'block'; // Mostra o bot√£o
            } else {
                backToWarezCdnCatalog.style.display = 'none'; // Esconde o bot√£o (se for o cat√°logo)
            }
        };
        warezCdnContentIframe.onerror = () => {
            warezCdnLoader.style.display = 'none';
            warezCdnContentIframe.style.display = 'none';
            warezCdnLoadingMessage.textContent = 'N√£o foi poss√≠vel carregar o conte√∫do do WarezCDN. Verifique a URL ou sua conex√£o.';
            warezCdnLoadingMessage.style.display = 'block';
            backToWarezCdnCatalog.style.display = 'none'; // Esconde o bot√£o em caso de erro
        };

        // Limpa qualquer intervalo de atualiza√ß√£o da grade de TV existente
        if (currentGradeRefreshInterval) {
            clearInterval(currentGradeRefreshInterval);
            currentGradeRefreshInterval = null;
        }
    }

    // --- Event Listeners ---

    // Toggle categories: expand/collapse functionality
    categoryHeaders.forEach(header => {
      header.addEventListener('click', () => {
        const categoryItem = header.closest('.category-item');
        const channelList = categoryItem.querySelector('.channel-list');

        // Close other expanded categories
        document.querySelectorAll('.category-item.expanded').forEach(item => {
            if (item !== categoryItem) {
                item.classList.remove('expanded');
                item.querySelector('.channel-list').style.maxHeight = 0;
            }
        });

        // Toggle current category
        categoryItem.classList.toggle('expanded');
        if (categoryItem.classList.contains('expanded')) {
          // Set height for smooth transition, ensuring it covers all content
          channelList.style.maxHeight = channelList.scrollHeight + 'px'; 
        } else {
          channelList.style.maxHeight = 0;
        }
      });
    });

    // Load channels/warezCDN content when a channel item is clicked
    channelItems.forEach(item => {
      item.addEventListener('click', () => {
        setActiveChannel(item); // Set this item as active in the navigation

        const videoUrl = item.dataset.videoUrl;
        const gradeUrl = item.dataset.gradeUrl;
        const warezUrl = item.dataset.warezUrl; // New attribute for WarezCDN

        const channelName = item.textContent; // Get channel name for console log/debug

        if (warezUrl) {
            showWarezCdnContent(warezUrl);
        } else if (videoUrl) {
            showTvChannelsContent(videoUrl, gradeUrl, channelName);
        } else {
            showNoPlayerMessage('Nenhum v√≠deo dispon√≠vel para este item.', 'Por favor, selecione outro.');
        }
      });
    });

    // Event listener for "Back to Catalog" button in WarezCDN view
    backToWarezCdnCatalog.addEventListener('click', () => {
        showWarezCdnContent('https://warezcdn.link/conteudo'); // Recarrega a p√°gina do cat√°logo
        setActiveChannel(null); // Clear active state from navigation items
    });

    // Initial state on page load: show welcome message
    document.addEventListener('DOMContentLoaded', () => {
        showNoPlayerMessage(); // Show welcome message on load
        // Optionally, expand the first category by default
        // if (categoryHeaders.length > 0) {
        //     categoryHeaders[0].click(); 
        // }
    });
  </script>
</body>
</html>